<html>
<head>
<title>OpenGL 1.1 Reference: glCopyPixels</title>
<script language="JavaScript">
<!--
//=== change the button appearance and update the status message =============
function ChangeBtn(Btn, State) {
    var Doc = Btn;
    while ("0123456789".indexOf(Doc.substring(Doc.length - 1)) >= 0)
	Doc = Doc.substring(0, Doc.length - 1);	// truncate last character
    eval("document." + Btn + ".src=\042../buttons/" + Doc +
      (State?"On":"Off") + ".gif\042");
}
// -->
</script>

<meta name="collname" content="unixwork">
<meta name="colltitle" content="unixwork">
<meta name="collsubn" content="unixwork">
<meta name="searchtitle" content="OpenGL 1.1 Reference: glCopyPixels">
</head>
<!-- Version: Version 1.1 -->
<!-- Date:    1 April 1996 -->
<!-- Release: Release 1.1.0 -->
<!-- Dp:      Oct 25 19:24 -->
<!-- Dm:      Oct 25 19:1 -->
<!-- Xs:      55868 16 copypixels.gl -->

<body background="../images/WhiteMarble.jpg"
      text=000000 link=0000ff alink=ff0000 vlink=aa00aa>
<a name="TOC"></a>
<a href="../OpenGL.html"><img src="images/OpenGL3.gif"
   alt="[Front]" border=0></a>
<a href="../Reference.html" onMouseOver="ChangeBtn('Reference1', 1)"
   onMouseOut="ChangeBtn('Reference1', 0)"><img name="Reference1"
   src="../buttons/ReferenceOff.gif" alt="[Reference]" border=0></a>
<a href="../ImpGuide.html" onMouseOver="ChangeBtn('ImpGuide1', 1)"
   onMouseOut="ChangeBtn('ImpGuide1', 0)"><img name="ImpGuide1"
   src="../buttons/ImpGuideOff.gif" alt="[Imp. Guide]" border=0></a>
<a href="../Index.html" onMouseOver="ChangeBtn('Index1', 1)"
   onMouseOut="ChangeBtn('Index1', 0)"><img name="Index1"
   src="../buttons/IndexOff.gif" alt="[Index]" border=0></a>


<!-- === Name ============================================================= -->
<h1><a name="Name">glCopyPixels</a><br>
<a href="glXCopyContext.html" onMouseOver="ChangeBtn('ArrowLeft1', 1)"
   onMouseOut="ChangeBtn('ArrowLeft1', 0)"><img name="ArrowLeft1"
   src="buttons/ArrowLeftOff.gif" alt="[Prev]" border=0></a>
<a href="glCopyTexImage1D.html" onMouseOver="ChangeBtn('ArrowRight1', 1)"
   onMouseOut="ChangeBtn('ArrowRight1', 0)"><img name="ArrowRight1"
   src="buttons/ArrowRightOff.gif" alt="[Next]" border=0></a></h1>

<tt>glCopyPixels</tt>: copy pixels in the frame buffer.
<p>
<center>
<a href="#CSpecification">C Specification</a> |
<a href="#Parameters">Parameters</a> |
<a href="#Description">Description</a> |
<a href="#Examples">Examples</a> |
<a href="#Notes">Notes</a> |
<a href="#Errors">Errors</a> |
<a href="#AssociatedGets">Associated Gets</a> |
<a href="#SeeAlso">See Also</a>
</center>


<!-- === C Specification ================================================== -->

<h2><a href="#TOC" onMouseOver="ChangeBtn('ArrowUp1', 1)"
   onMouseOut="ChangeBtn('ArrowUp1', 0)"><img name="ArrowUp1"
   src="buttons/ArrowUpOff.gif" alt="[Up]" border=0></a>
   <a name="CSpecification">C Specification</a></h2>

<pre>
void glCopyPixels(
    GLint	 <i>x</i>,
    GLint	 <i>y</i>,
    GLsizei	 <i>width</i>,
    GLsizei	 <i>height</i>,
    GLenum	 <i>type</i>)
</pre>


<!-- === Parameters ======================================================= -->

<h2><a href="#TOC" onMouseOver="ChangeBtn('ArrowUp2', 1)"
   onMouseOut="ChangeBtn('ArrowUp2', 0)"><img name="ArrowUp2"
   src="buttons/ArrowUpOff.gif" alt="[Up]" border=0></a>
   <a name="Parameters">Parameters</a></h2>

<dl compact>
<dt><tt><i>x</i></tt>, <tt><i>y</i></tt>
<dd>Specify the window coordinates of the lower left corner of the rectangular
    region of pixels to be copied.

<dt><tt><i>width</i></tt>, <tt><i>height</i></tt>
<dd>Specify the dimensions of the rectangular region of pixels to be copied.
    Both must be nonnegative.

<dt><tt><i>type</i></tt>
<dd>Specifies whether color values, depth values, or stencil values are to be
    copied.  Symbolic constants <tt><b>GL_COLOR</b></tt>,
    <tt><b>GL_DEPTH</b></tt>, and <tt><b>GL_STENCIL</b></tt> are accepted.
</dl>


<!-- === Description ====================================================== -->

<h2><a href="#TOC" onMouseOver="ChangeBtn('ArrowUp3', 1)"
   onMouseOut="ChangeBtn('ArrowUp3', 0)"><img name="ArrowUp3"
   src="buttons/ArrowUpOff.gif" alt="[Up]" border=0></a>
   <a name="Description">Description</a></h2>

<tt>glCopyPixels</tt> copies a screen-aligned rectangle of pixels from the
specified frame buffer location to a region relative to the current raster
position.  Its operation is well defined only if the entire pixel source
region is within the exposed portion of the window.  Results of copies from
outside the window, or from regions of the window that are not exposed, are
hardware dependent and undefined.

<p>
<tt><i>x</i></tt> and <tt><i>y</i></tt> specify the window coordinates of the
lower left corner of the rectangular region to be copied.
<tt><i>width</i></tt> and <tt><i>height</i></tt> specify the dimensions of the
rectangular region to be copied.  Both <tt><i>width</i></tt> and
<tt><i>height</i></tt> must not be negative.

<p>
Several parameters control the processing of the pixel data while it is being
copied.  These parameters are set with three commands: <a
href="glPixelTransfer.html"><tt>glPixelTransfer</tt></a>, <a
href="glPixelMap.html"><tt>glPixelMap</tt></a>, and <a
href="glPixelZoom.html"><tt>glPixelZoom</tt></a>.  This reference page
describes the effects on <tt>glCopyPixels</tt> of most, but not all, of the
parameters specified by these three commands.

<p>
<tt>glCopyPixels</tt> copies values from each pixel with the lower left-hand
corner at <nobr>(<tt><i>x</i></tt> + <i>i</i>, <tt><i>y</i></tt> +
<i>j</i>)</nobr> for <nobr>0<img src="symbols/LessEq.gif"
alt=".le."><i>i</i>&lt;<tt><i>width</i></tt></nobr> and <nobr>0<img
src="symbols/LessEq.gif"
alt=".le."><i>j</i>&lt;<tt><i>height</i></tt>.</nobr> This pixel is said to be
the <i>i</i>th pixel in the <i>j</i>th row.  Pixels are copied in row order
from the lowest to the highest row, left to right in each row.

<p>
<tt><i>type</i></tt> specifies whether color, depth, or stencil data is to be
copied.  The details of the transfer for each data type are as follows:
    
<dl>
<dt><tt><b>GL_COLOR</b></tt>
<dd>Indices or RGBA colors are read from the buffer currently specified as the
    read source buffer (see <a
    href="glReadBuffer.html"><tt>glReadBuffer</tt></a>).  If the GL is in
    color index mode, each index that is read from this buffer is converted to
    a fixed-point format with an unspecified number of bits to the right of
    the binary point.  Each index is then shifted left by
    <tt><b>GL_INDEX_SHIFT</b></tt> bits, and added to
    <tt><b>GL_INDEX_OFFSET</b></tt>.  If <tt><b>GL_INDEX_SHIFT</b></tt> is
    negative, the shift is to the right.  In either case, zero bits fill
    otherwise unspecified bit locations in the result.  If
    <tt><b>GL_MAP_COLOR</b></tt> is true, the index is replaced with the value
    that it references in lookup table
<tt><b>GL_PIXEL_MAP_I_TO_I</b></tt>.
    Whether the lookup replacement of the index is done or not, the integer
    part of the index is then ANDed with <nobr>2<sup><i>b</i></sup> <img
    src="symbols/Minus.gif" alt="-"> 1</nobr>, where <i>b</i> is the number
    of bits in a color index buffer.

    <p>If the GL is in RGBA mode, the red, green, blue, and alpha components
    of each pixel that is read are converted to an internal floating-point
    format with unspecified precision.  The conversion maps the largest
    representable component value to 1.0, and component value 0 to 0.0.  The
    resulting floating-point color values are then multiplied by
    <tt><b>GL_</b></tt><i>c</i><tt><b>_SCALE</b></tt> and added to
    <tt><b>GL_</b></tt><i>c</i><tt><b>_BIAS</b></tt>, where <i>c</i> is
    <tt>RED</tt>, <tt>GREEN</tt>, <tt>BLUE</tt>, and <tt>ALPHA</tt> for the
    respective color components.  The results are clamped to the range
    <nobr>[0, 1]</nobr>.  If <tt><b>GL_MAP_COLOR</b></tt> is true, each color
    component is scaled by the size of lookup table
    <tt><b>GL_PIXEL_MAP_</b></tt><i>c</i><tt><b>_TO_</b></tt><i>c</i>, then
    replaced by the value that it references in that table.  <i>c</i> is
    <tt>R</tt>, <tt>G</tt>, <tt>B</tt>, or <tt>A</tt>.

    <p>The GL then converts the resulting indices or RGBA colors to fragments
    by attaching the current raster position <i>z</i> coordinate and texture
    coordinates to each pixel, then assigning window coordinates
    <nobr>(<i>x<sub>r</sub></i> + <i>i</i> , <i>y<sub>r</sub></i> +
    <i>j</i>)</nobr>, where <nobr>(<i>x<sub>r</sub></i>,
    <i>y<sub>r</sub></i>)</nobr> is the current raster position, and the pixel
    was the <i>i</i>th pixel in the <i>j</i>th row.  These pixel fragments are
    then treated just like the fragments generated by rasterizing points,
    lines, or polygons.  Texture mapping, fog, and all the fragment operations
    are applied before the fragments are written to the frame buffer.

<dt><tt><b>GL_DEPTH</b></tt>
<dd>Depth values are read from the depth buffer and converted directly to an
    internal floating-point format with unspecified precision.  The resulting
    floating-point depth value is then multiplied by
    <tt><b>GL_DEPTH_SCALE</b></tt> and added to <tt><b>GL_DEPTH_BIAS</b></tt>.
    The result is clamped to the range <nobr>[0, 1]</nobr>.

    <p>The GL then converts the resulting depth components to fragments by
    attaching the current raster position color or color index and texture
    coordinates to each pixel, then assigning window coordinates
    <nobr>(<i>x<sub>r</sub></i> + <i>i</i>, <i>y<sub>r</sub></i> +
    <i>j</i>)</nobr>, where <nobr>(<i>x<sub>r</sub></i>,
    <i>y<sub>r</sub></i>)</nobr> is the current raster position, and the pixel
    was the <i>i</i>th pixel in the <i>j</i>th row.  These pixel fragments are
    then treated just like the fragments generated by rasterizing points,
    lines, or polygons.  Texture mapping, fog, and all the fragment operations
    are applied before the fragments are written to the frame buffer.

<dt><tt><b>GL_STENCIL</b></tt>
<dd>Stencil indices are read from the stencil buffer and converted to an
    internal fixed-point format with an unspecified number of bits to the
    right of the binary point.  Each fixed-point index is then shifted left by
    <tt><b>GL_INDEX_SHIFT</b></tt> bits, and added to
    <tt><b>GL_INDEX_OFFSET</b></tt>.  If <tt><b>GL_INDEX_SHIFT</b></tt> is
    negative, the shift is to the right.  In either case, zero bits fill
    otherwise unspecified bit locations in the result.  If
    <tt><b>GL_MAP_STENCIL</b></tt> is true, the index is replaced with the
    value that it references in lookup table
    <tt><b>GL_PIXEL_MAP_S_TO_S</b></tt>.  Whether the lookup replacement of
    the index is done or not, the integer part of the index is then ANDed with
    <nobr>2<sup><i>b</i></sup><img src="symbols/Minus.gif"
    alt="-">1</nobr>, where <nobr><i>b</i></nobr> is the number of bits in the
    stencil buffer.  The resulting stencil indices are then written to the
    stencil buffer such that the index read from the <nobr><i>i</i></nobr>th
    location of the <i>j</i>th row is written to location
    <nobr>(<i>x<sub>r</sub></i> + <i>i</i>, <i>y<sub>r</sub></i> +
    <i>j</i>)</nobr>, where <nobr>(<i>x<sub>r</sub></i>,
    <i>y<sub>r</sub></i>)</nobr> is the current raster position.  Only the
    pixel ownership test, the scissor test, and the stencil writemask affect
    these write operations.
</dl>

The rasterization described thus far assumes pixel zoom factors of 1.0.  If <a
href="glPixelZoom.html"><tt>glPixelZoom</tt></a> is used to change the
<i>x</i> and <i>y</i> pixel zoom factors, pixels are converted to fragments as
follows.  If <nobr>(<i>x<sub>r</sub></i>, <i>y<sub>r</sub></i>)</nobr> is the
current raster position, and a given pixel is in the <i>i</i>th location in
the <i>j</i>th row of the source pixel rectangle, then fragments are generated
for pixels whose centers are in the rectangle with corners at

<p align=center>
(<i>x<sub>r</sub></i> + <i>zoom<sub>x</sub>i</i>,
 <i>y<sub>r</sub></i> + <i>zoom<sub>y</sub> j</i> )<br>
and<br>
(<i>x<sub>r</sub></i> + <i>zoom<sub>x</sub></i>(<i>i</i>+1),
 <i>y<sub>r</sub></i> + <i>zoom<sub>y</sub></i> ( <i>j</i>+1))

<p>
where <i>zoom<sub>x</sub></i> is the value of <tt><b>GL_ZOOM_X</b></tt> and 
<i>zoom<sub>y</sub></i> is the value of <tt><b>GL_ZOOM_Y</b></tt>.


<!-- === Examples ========================================================= -->

<h2><a href="#TOC" onMouseOver="ChangeBtn('ArrowUp4', 1)"
   onMouseOut="ChangeBtn('ArrowUp4', 0)"><img name="ArrowUp4"
   src="buttons/ArrowUpOff.gif" alt="[Up]" border=0></a>
   <a name="Examples">Examples</a></h2>

To copy the color pixel in the lower left corner of the window to the current
raster position, use

<xmp>
  glCopyPixels(0, 0, 1, 1, GL_COLOR);
</xmp>


<!-- === Notes ============================================================ -->

<h2><a href="#TOC" onMouseOver="ChangeBtn('ArrowUp5', 1)"
   onMouseOut="ChangeBtn('ArrowUp5', 0)"><img name="ArrowUp5"
   src="buttons/ArrowUpOff.gif" alt="[Up]" border=0></a>
   <a name="Notes">Notes</a></h2>

Modes specified by <a href="glPixelStore.html"><tt>glPixelStore</tt></a> have
no effect on the operation of <tt>glCopyPixels</tt>.


<!-- === Errors =========================================================== -->

<h2><a href="#TOC" onMouseOver="ChangeBtn('ArrowUp6', 1)"
   onMouseOut="ChangeBtn('ArrowUp6', 0)"><img name="ArrowUp6"
   src="buttons/ArrowUpOff.gif" alt="[Up]" border=0></a>
   <a name="Errors">Errors</a></h2>

<ul>
<li><tt><b>GL_INVALID_ENUM</b></tt> is generated if <tt><i>type</i></tt> is
    not an accepted value.

<li><tt><b>GL_INVALID_VALUE</b></tt> is generated if either
    <tt><i>width</i></tt> or <tt><i>height</i></tt> is negative.

<li><tt><b>GL_INVALID_OPERATION</b></tt> is generated if <tt><i>type</i></tt>
    is <tt><b>GL_DEPTH</b></tt> and there is no depth buffer.

<li><tt><b>GL_INVALID_OPERATION</b></tt> is generated if <tt><i>type</i></tt>
    is <tt><b>GL_STENCIL</b></tt> and there is no stencil buffer.

<li><tt><b>GL_INVALID_OPERATION</b></tt> is generated if <a
    href="glCopyPixels.html"><tt>glCopyPixels</tt></a> is executed between the
    execution of <a href="glBegin.html"><tt>glBegin</tt></a> and the
    corresponding execution of <a href="glBegin.html"><tt>glEnd</tt></a>.
</ul>


<!-- === Associated Gets ================================================== -->

<h2><a href="#TOC" onMouseOver="ChangeBtn('ArrowUp7', 1)"
   onMouseOut="ChangeBtn('ArrowUp7', 0)"><img name="ArrowUp7"
   src="buttons/ArrowUpOff.gif" alt="[Up]" border=0></a>
   <a name="AssociatedGets">Associated Gets</a></h2>

<tt><a href="glGet.html">glGet</a></tt> with argument
<tt><b>GL_CURRENT_RASTER_POSITION</b></tt><br>

<tt><a href="glGet.html">glGet</a></tt> with argument
<tt><b>GL_CURRENT_RASTER_POSITION_VALID</b></tt>


<!-- === See Also ========================================================= -->

<h2><a href="#TOC" onMouseOver="ChangeBtn('ArrowUp8', 1)"
   onMouseOut="ChangeBtn('ArrowUp8', 0)"><img name="ArrowUp8"
   src="buttons/ArrowUpOff.gif" alt="[Up]" border=0></a>
   <a name="SeeAlso">See Also</a></h2>

<tt><a href="glDepthFunc.html">glDepthFunc</a></tt>,<br>
<tt><a href="glDrawBuffer.html">glDrawBuffer</a></tt>,<br>
<tt><a href="glDrawPixels.html">glDrawPixels</a></tt>,<br>
<tt><a href="glPixelMap.html">glPixelMap</a></tt>,<br>
<tt><a href="glPixelTransfer.html">glPixelTransfer</a></tt>,<br>
<tt><a href="glPixelZoom.html">glPixelZoom</a></tt>,<br>
<tt><a href="glRasterPos.html">glRasterPos</a></tt>,<br>
<tt><a href="glReadBuffer.html">glReadBuffer</a></tt>,<br>
<tt><a href="glReadPixels.html">glReadPixels</a></tt>,<br>
<tt><a href="glStencilFunc.html">glStencilFunc</a></tt>


<p>
<a href="glXCopyContext.html" onMouseOver="ChangeBtn('ArrowLeft2', 1)"
   onMouseOut="ChangeBtn('ArrowLeft2', 0)"><img name="ArrowLeft2"
   src="buttons/ArrowLeftOff.gif" alt="[Prev]" border=0></a>
<a href="glCopyTexImage1D.html" onMouseOver="ChangeBtn('ArrowRight2', 1)"
   onMouseOut="ChangeBtn('ArrowRight2', 0)"><img name="ArrowRight2"
   src="buttons/ArrowRightOff.gif" alt="[Next]" border=0></a><br>

<a href="../OpenGL.html"><img src="images/OpenGL3.gif"
   alt="Front" border=0></a>
<a href="../Reference.html" onMouseOver="ChangeBtn('Reference2', 1)"
   onMouseOut="ChangeBtn('Reference2', 0)"><img name="Reference2"
   src="../buttons/ReferenceOff.gif" alt="Reference" border=0></a>
<a href="../ImpGuide.html" onMouseOver="ChangeBtn('ImpGuide2', 1)"
   onMouseOut="ChangeBtn('ImpGuide2', 0)"><img name="ImpGuide2"
   src="../buttons/ImpGuideOff.gif" alt="[Imp. Guide]" border=0></a>
<a href="../Index.html" onMouseOver="ChangeBtn('Index2', 1)"
   onMouseOut="ChangeBtn('Index2', 0)"><img name="Index2"
   src="../buttons/IndexOff.gif" alt="Index" border=0></a>
<spacer type=vertical size=500>

</body>
</html>
