<html>
<head>
<title>OpenGL 1.1 Reference: gluBuild2DMipmaps</title>
<script language="JavaScript">
<!--
//=== change the button appearance and update the status message =============
function ChangeBtn(Btn, State) {
    var Doc = Btn;
    while ("0123456789".indexOf(Doc.substring(Doc.length - 1)) >= 0)
	Doc = Doc.substring(0, Doc.length - 1);	// truncate last character
    eval("document." + Btn + ".src=\042../buttons/" + Doc +
      (State?"On":"Off") + ".gif\042");
}
// -->
</script>

<meta name="collname" content="unixwork">
<meta name="colltitle" content="unixwork">
<meta name="collsubn" content="unixwork">
<meta name="searchtitle" content="OpenGL 1.1 Reference: gluBuild2DMipmaps">
</head>
<!-- Version: Version 1.2 -->
<!-- Date:    1 April 1996 -->
<!-- Release: Release 1.2.0 -->
<!-- Dp:      Oct 25 19:26 -->
<!-- Dm:      Oct 25 19:1 -->
<!-- Xs:      32085 9 build2dmipmaps.gl -->

<body background="../images/WhiteMarble.jpg"
      text=000000 link=0000ff alink=ff0000 vlink=aa00aa>
<a name="TOC"></a>
<a href="../OpenGL.html"><img src="images/OpenGL3.gif"
   alt="[Front]" border=0></a>
<a href="../Reference.html" onMouseOver="ChangeBtn('Reference1', 1)"
   onMouseOut="ChangeBtn('Reference1', 0)"><img name="Reference1"
   src="../buttons/ReferenceOff.gif" alt="[Reference]" border=0></a>
<a href="../ImpGuide.html" onMouseOver="ChangeBtn('ImpGuide1', 1)"
   onMouseOut="ChangeBtn('ImpGuide1', 0)"><img name="ImpGuide1"
   src="../buttons/ImpGuideOff.gif" alt="[Imp. Guide]" border=0></a>
<a href="../Index.html" onMouseOver="ChangeBtn('Index1', 1)"
   onMouseOut="ChangeBtn('Index1', 0)"><img name="Index1"
   src="../buttons/IndexOff.gif" alt="[Index]" border=0></a>


<!-- === Name ============================================================= -->
<h1><a name="Name">gluBuild2DMipmaps</a><br>
<a href="gluBuild1DMipmaps.html" onMouseOver="ChangeBtn('ArrowLeft1', 1)"
   onMouseOut="ChangeBtn('ArrowLeft1', 0)"><img name="ArrowLeft1"
   src="buttons/ArrowLeftOff.gif" alt="[Prev]" border=0></a>
<a href="glCallList.html" onMouseOver="ChangeBtn('ArrowRight1', 1)"
   onMouseOut="ChangeBtn('ArrowRight1', 0)"><img name="ArrowRight1"
   src="buttons/ArrowRightOff.gif" alt="[Next]" border=0></a></h1>

<tt>gluBuild2DMipmaps</tt>: create 2D mipmaps.

<p>
<center>
<a href="#CSpecification">C Specification</a> |
<a href="#Parameters">Parameters</a> |
<a href="#Description">Description</a> |
<a href="#Notes">Notes</a> |
<a href="#Errors">Errors</a> |
<a href="#SeeAlso">See Also</a>
</center>


<!-- === C Specification ================================================== -->

<h2><a href="#TOC" onMouseOver="ChangeBtn('ArrowUp1', 1)"
   onMouseOut="ChangeBtn('ArrowUp1', 0)"><img name="ArrowUp1"
   src="buttons/ArrowUpOff.gif" alt="[Up]" border=0></a>
   <a name="CSpecification">C Specification</a></h2>

<pre>
GLint gluBuild2DMipmaps(
    GLenum	<i>target</i>,
    GLint	<i>component</i>,
    GLsizei	<i>width</i>,
    GLsizei	<i>height</i>,
    GLenum	<i>format</i>,
    GLenum	<i>type</i>,
    const void	<i>*data</i>) 
</pre>


<!-- === Parameters ======================================================= -->

<h2><a href="#TOC" onMouseOver="ChangeBtn('ArrowUp2', 1)"
   onMouseOut="ChangeBtn('ArrowUp2', 0)"><img name="ArrowUp2"
   src="buttons/ArrowUpOff.gif" alt="[Up]" border=0></a>
   <a name="Parameters">Parameters</a></h2>

<dl compact>
<dt><tt><i>target</i></tt>
<dd>Specifies the target texture. Must be <tt><b>GL_TEXTURE_2D</b></tt>.

<dt><tt><i>component</i></tt>
<dd>Specifies the number of color components in the texture.  Must be 1, 2, 3,
    or 4.

<dt><tt><i>width</i></tt>, <tt><i>height</i></tt>
<dd>Specifies the width and height, respectively, of the texture image.

<dt><tt><i>format</i></tt>
<dd>Specifies the format of the pixel data.  Must be one of:
    <tt><b>GL_COLOR_INDEX</b></tt>, <tt><b>GL_RED</b></tt>,
    <tt><b>GL_GREEN</b></tt>, <tt><b>GL_BLUE</b></tt>,
    <tt><b>GL_ALPHA</b></tt>, <tt><b>GL_RGB</b></tt>, <tt><b>GL_RGBA</b></tt>,
    <tt><b>GL_LUMINANCE</b></tt>, and <tt><b>GL_LUMINANCE_ALPHA</b></tt>.

<dt><tt><i>type</i></tt>
<dd>Specifies the data type for <tt><i>data</i></tt>.  Must be one of:
    <tt><b>GL_UNSIGNED_BYTE</b></tt>, <tt><b>GL_BYTE</b></tt>,
    <tt><b>GL_BITMAP</b></tt>, <tt><b>GL_UNSIGNED_SHORT</b></tt>,
    <tt><b>GL_SHORT</b></tt>, <tt><b>GL_UNSIGNED_INT</b></tt>,
    <tt><b>GL_INT</b></tt>, or <tt><b>GL_FLOAT</b></tt>.

<dt><tt><i>data</i></tt>
<dd>Specifies a pointer to the image data in memory.
</dl>


<!-- === Description ====================================================== -->

<h2><a href="#TOC" onMouseOver="ChangeBtn('ArrowUp3', 1)"
   onMouseOut="ChangeBtn('ArrowUp3', 0)"><img name="ArrowUp3"
   src="buttons/ArrowUpOff.gif" alt="[Up]" border=0></a>
   <a name="Description">Description</a></h2>

<tt>gluBuild2DMipmaps</tt> builds a series of prefiltered 2D texture maps of
decreasing resolution. Mipmaps can be used so that textures don't appear
aliased.

<p>
A return value of 0 indicates success. Otherwise a GLU error code is returned
(see <a href="gluErrorString.html"><tt>gluErrorString</tt></a>).

<p>
<tt>gluBuild2DMipmaps</tt> first check whether <tt><i>width</i></tt> and
<tt><i>height</i></tt> of <tt><i>data</i></tt> are both powers of 2. If not,
<tt>gluBuild2DMipmaps</tt> scales a copy of <tt><i>data</i></tt> up or down to
the nearest power of 2. This copy is then used as the base for subsequent
mipmapping operations.  For example, if <tt><i>width</i></tt> is 57 and
<tt><i>height</i></tt> is 23, then a copy of <tt><i>data</i></tt> scales up to
64 and down to 16, respectively, before mipmapping takes place.  (If
<tt><i>width</i></tt> or <tt><i>height</i></tt> is exactly between powers of
2, the copy of <tt><i>data</i></tt> is scaled upward.)

<p>
If the GL version is 1.1 or greater, <tt>gluBuild2DMipmaps</tt> then uses
proxy textures (see <a href="glTexImage1D.html"><tt>glTexImage1D</tt></a>) to
determine whether there's enough room for the requested texture in the
implementation. If not, <tt><i>width</i></tt> is halved (and halved again)
until it fits.

<p>
<tt>gluBuild2DMipmaps</tt> then uses proxy textures (see <a
href="glTexImage2D.html"><tt>glTexImage2D</tt></a>) to determine if the
implementation can store the requested texture in texture memory.  If not,
both dimensions are continually halved until it fits.

<p>
Next, <tt>gluBuild2DMipmaps</tt> builds a series of images; it halves a copy
of <tt><i>type</i></tt> (or a scaled version of <tt><i>type</i></tt>, if
necessary) along both dimensions until size 1<img src="symbols/Times.gif"
alt="x">1 is reached. At each level, each texel in the halved mipmap is an
average of the corresponding four texels in the larger mipmap. (In the case of
rectangular images, halving the images repeatedly eventually results in an
<i>n</i><img src="symbols/Times.gif" alt="x">1 or 1<img
src="symbols/Times.gif" alt="x"><i>n</i> configuration.  Here, two texels
are averaged instead.)

<p>
<a href="glTexImage2D.html"><tt>glTexImage2D</tt></a> is called to load each
of these images by level.  If <tt><i>width</i></tt> and <tt><i>height</i></tt>
are both powers of 2 which fit in the implementation, level 0 is a copy of
<tt><i>data</i></tt>, and the highest level is
<nobr>log<sub>2</sub>(max(<tt><i>width</i></tt>,
<tt><i>height</i></tt>))</nobr>.  For example, if width is 64 and height is
16, the following mipmaps are built: 64<img src="symbols/Times.gif"
alt="x">16, 32<img src="symbols/Times.gif" alt="x">8, 16<img
src="symbols/Times.gif" alt="x">4, 8<img src="symbols/Times.gif"
alt="x">2, 4<img src="symbols/Times.gif" alt="x">1, 2<img
src="symbols/Times.gif" alt="x">1 and 1<img src="symbols/Times.gif"
alt="x">1. These correspond to levels 0 through 6, respectively.

<p>
See the <a href="glTexImage1D.html"><tt>glTexImage1D</tt></a> reference page
for a description of the acceptable values for <tt><i>format</i></tt>. See the
<a href="glDrawPixels.html"><tt>glDrawPixels</tt></a> reference page for a
description of the acceptable values for <tt><i>type</i></tt>.


<!-- === Notes ============================================================ -->

<h2><a href="#TOC" onMouseOver="ChangeBtn('ArrowUp4', 1)"
   onMouseOut="ChangeBtn('ArrowUp4', 0)"><img name="ArrowUp4"
   src="buttons/ArrowUpOff.gif" alt="[Up]" border=0></a>
   <a name="Notes">Notes</a></h2>

While you can't query the maximum level directly, you can derive it indirectly
by calling <a
href="glGetTexLevelParameter.html"><tt>glGetTexLevelParameter</tt></a>. First,
query for the width and height actually used at level 0.  (The width and
height may be unequal to <tt><i>width</i></tt> and <tt><i>height</i></tt>
since proxy textures might have shrunk or expanded them if
<tt><i>width</i></tt> or <tt><i>height</i></tt> are not powers of 2 or if the
implemetation only supports smaller textures.)  The maximum level can then be
derived using the formula <nobr>log<sub>2</sub>(max(<tt><i>width</i></tt>,
<tt><i>height</i></tt>))</nobr>.


<!-- === Errors =========================================================== -->

<h2><a href="#TOC" onMouseOver="ChangeBtn('ArrowUp5', 1)"
   onMouseOut="ChangeBtn('ArrowUp5', 0)"><img name="ArrowUp5"
   src="buttons/ArrowUpOff.gif" alt="[Up]" border=0></a>
   <a name="Errors">Errors</a></h2>

<ul>
<li><tt><b>GLU_INVALID_VALUE</b></tt> is returned if <tt><i>width</i></tt> or
    <tt><i>height</i></tt> are negative.

<li><tt><b>GLU_INVALID_ENUM</b></tt> is returned if <tt><i>format</i></tt> or
    <tt><i>type</i></tt> is not one of the accepted values.
</ul>


<!-- === See Also ========================================================= -->

<h2><a href="#TOC" onMouseOver="ChangeBtn('ArrowUp6', 1)"
   onMouseOut="ChangeBtn('ArrowUp6', 0)"><img name="ArrowUp6"
   src="buttons/ArrowUpOff.gif" alt="[Up]" border=0></a>
   <a name="SeeAlso">See Also</a></h2>

<tt><a href="glDrawPixels.html">glDrawPixels</a></tt>,<br>
<tt><a href="glTexImage1D.html">glTexImage1D</a></tt>,<br>
<tt><a href="glTexImage2D.html">glTexImage2D</a></tt>,<br>
<tt><a href="gluBuild1DMipmaps.html">gluBuild1DMipmaps</a></tt>,<br>
<tt><a href="gluErrorString.html">gluErrorString</a></tt>,<br>
<tt><a href="gluScaleImage.html">gluScaleImage</a></tt>


<p>
<a href="gluBuild1DMipmaps.html" onMouseOver="ChangeBtn('ArrowLeft2', 1)"
   onMouseOut="ChangeBtn('ArrowLeft2', 0)"><img name="ArrowLeft2"
   src="buttons/ArrowLeftOff.gif" alt="[Prev]" border=0></a>
<a href="glCallList.html" onMouseOver="ChangeBtn('ArrowRight2', 1)"
   onMouseOut="ChangeBtn('ArrowRight2', 0)"><img name="ArrowRight2"
   src="buttons/ArrowRightOff.gif" alt="[Next]" border=0></a><br>

<a href="../OpenGL.html"><img src="images/OpenGL3.gif"
   alt="Front" border=0></a>
<a href="../Reference.html" onMouseOver="ChangeBtn('Reference2', 1)"
   onMouseOut="ChangeBtn('Reference2', 0)"><img name="Reference2"
   src="../buttons/ReferenceOff.gif" alt="Reference" border=0></a>
<a href="../ImpGuide.html" onMouseOver="ChangeBtn('ImpGuide2', 1)"
   onMouseOut="ChangeBtn('ImpGuide2', 0)"><img name="ImpGuide2"
   src="../buttons/ImpGuideOff.gif" alt="[Imp. Guide]" border=0></a>
<a href="../Index.html" onMouseOver="ChangeBtn('Index2', 1)"
   onMouseOut="ChangeBtn('Index2', 0)"><img name="Index2"
   src="../buttons/IndexOff.gif" alt="Index" border=0></a>
<spacer type=vertical size=500>

</body>
</html>
